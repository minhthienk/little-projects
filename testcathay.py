
from selenium import webdriver
from selenium.webdriver.common.keys import Keys


from webdriver_manager.chrome import ChromeDriverManager


from time import sleep

# read data from a file
def read_data(path):
    with open(path, "r") as file_object:
        return file_object.read()
    return 


# write data to a file, overwrite mode
def write_data(path, data, mode='w'):
    with open(path, mode) as file_object:
        file_object.write(data)


def log_in(driver, username, password):
    driver.get("https://www.cathaylife.com.vn/elearning/")
    driver.find_element_by_id("login_button").click()
    driver.find_element_by_name("userName").click()
    driver.find_element_by_name("userName").clear()
    driver.find_element_by_name("userName").send_keys(username)
    driver.find_element_by_name("password").clear()
    driver.find_element_by_name("password").send_keys(password)
    driver.find_element_by_name("submit").click()




def attach_driver(session_path, username, password):
    try:
        driver_info = read_data(session_path)
        session_id = driver_info.split('\n')[0].replace('session_id: ', '')
        executor_url = driver_info.split('\n')[1].replace('executor_url: ', '')

        driver = webdriver.Remote(command_executor=executor_url, desired_capabilities={})
        driver.close()
        driver.session_id = session_id

        print('found a session and linked:',session_id)
        print(session_id)
        print(executor_url)
        print(driver.current_url)

    except Exception as e:
        driver = webdriver.Chrome(ChromeDriverManager().install(), desired_capabilities={})
        #driver = webdriver.Chrome(desired_capabilities={})
        print('no session found, created new')
        executor_url = driver.command_executor._url
        session_id = driver.session_id
        print(session_id)
        print(executor_url)
        driver_info = 'session_id: ' + session_id + '\n' + 'executor_url: ' + executor_url
        write_data('session.txt', driver_info)

        log_in(driver, username, password)
    return driver



def get_correct_answers(driver):
    # complete the test without knowing the correct answers
    question_jumps = driver.find_elements("class name", "num-ques")
    for question_jump in question_jumps:
        ques_id = 'ques_' + question_jump.get_attribute("data-id")
        question_jump.click()
        question = driver.find_element("name", ques_id)
        ans = question.find_elements("css selector", "input[type='radio']")
        driver.execute_script("arguments[0].scrollIntoView();", ans[0])
        driver.execute_script("arguments[0].click();", ans[0])

    driver.find_element('id', "btn_review_sb").click()
    sleep(3)
    # get the correct answers
    answers = {}
    spans = driver.find_elements("tag name", "span")

    for span in spans:
        if "green" in span.get_attribute("style"):
            info = span.get_attribute("id")
            
            answers['ans_'+info[8:12]] = info[13:]
            #print('ans_'+info[8:12], '   ', info[13:])
    print(answers)
    return answers



def give_answers(driver, answers):
    # complete the test without knowing the correct answers
    question_jumps = driver.find_elements("class name", "num-ques")
    print(len(question_jumps))
    for question_jump in question_jumps:
        ques_id = 'ques_' + question_jump.get_attribute("data-id")
        print(ques_id)
        question_jump.click()
        question = driver.find_element("name", ques_id)
        ans = question.find_elements("css selector", "input[type='radio']")

        for an in ans:
            name = an.get_attribute("name")
            value = an.get_attribute("value")
            if name not in answers.keys():
                continue
            if answers[name]==value:
                while True:
                    try:
                        driver.execute_script("arguments[0].scrollIntoView();", an)
                        driver.execute_script("arguments[0].click();", an)
                        #an.click()
                        break
                    except Exception as e:
                        print(e)
                        pass
                
                break
    driver.find_element('id', "btn_review_sb").click()

def do_the_test(driver, link, test_name):
    driver.get(link)
    driver.find_element_by_link_text(test_name).click()
    
    answers = get_correct_answers(driver)
    driver.get(link)
    driver.find_element_by_link_text(test_name).click()
    give_answers(driver, answers)

username = input('username: ')
password = input('password: ')
link = input('linktest: ')
session_path = 'session.txt'
driver = attach_driver(session_path, username, password)


print('\nnhập vào "yes" để chương trình bắt đầu làm test, \nnếu bài test khó, bị đổi câu trả lời mỗi lần test, và chương trình không làm ra đúng đáp án thì chọn "no" để chương trình chạy nhiều lần thu thập đáp án trước khi làm.')
mode = input('easy mode (yes/no): ')

if mode==
# This one is for easy test
link = "https://www.cathaylife.com.vn/elearning/xemmuc?idclass=450&lang=vn"
test_names = ['Qtest Số 15', 'Qtest Số 16', 'Qtest Số 17']
for test_name in test_names:
    do_the_test(driver, link, test_name)

'''











#thi thử
total_answers= {'ans_3603': '14263', 'ans_3618': '14322', 'ans_3629': '14367', 'ans_3638': '14404', 'ans_3642': '14419', 'ans_3647': '14438', 'ans_3649': '14445', 'ans_3666': '14513', 'ans_3678': '14561', 'ans_3684': '14587', 'ans_3690': '14609', 'ans_3698': '14642', 'ans_3722': '14739', 'ans_3730': '14771', 'ans_3742': '14820', 'ans_3749': '14847', 'ans_3754': '14868', 'ans_3768': '14924', 'ans_3787': '14999', 'ans_3799': '15047', 'ans_3821': '15135', 'ans_3840': '15211', 'ans_3841': '15216', 'ans_3857': '15278', 'ans_3873': '15341', 'ans_3875': '15349', 'ans_3884': '15388', 'ans_3906': '15474', 'ans_3916': '15513', 'ans_3926': '15555', 'ans_3940': '15609', 'ans_3943': '15623', 'ans_4008': '15881', 'ans_4012': '15898', 'ans_4019': '15928', 'ans_4027': '15960', 'ans_4036': '15996', 'ans_4550': '18052', 'ans_4552': '18059', 'ans_4553': '18064', 'ans_3608': '14283', 'ans_3625': '14350', 'ans_3634': '14387', 'ans_3638': '14404', 'ans_3640': '14412', 'ans_3641': '14415', 'ans_3649': '14445', 'ans_3653': '14461', 'ans_3666': '14513', 'ans_3681': '14576', 'ans_3687': '14597', 'ans_3706': '14674', 'ans_3714': '14707', 'ans_3731': '14775', 'ans_3742': '14820', 'ans_3752': '14860', 'ans_3758': '14883', 'ans_3769': '14925', 'ans_3771': '14933', 'ans_3791': '15014', 'ans_3831': '15174', 'ans_3833': '15181', 'ans_3841': '15216', 'ans_3846': '15234', 'ans_3864': '15307', 'ans_3880': '15369', 'ans_3888': '15403', 'ans_3895': '15432', 'ans_3899': '15448', 'ans_3924': '15548', 'ans_3939': '15606', 'ans_3946': '15634', 'ans_3996': '15833', 'ans_4003': '15861', 'ans_4017': '15917', 'ans_4027': '15960', 'ans_4031': '15976', 'ans_4546': '18033', 'ans_4553': '18064', 'ans_4564': '18105','ans_3611': '14296', 'ans_3616': '14316', 'ans_3631': '14373', 'ans_3637': '14399', 'ans_3641': '14415', 'ans_3642': '14419', 'ans_3650': '14452', 'ans_3657': '14477', 'ans_3665': '14510', 'ans_3682': '14580', 'ans_3699': '14647', 'ans_3701': '14653', 'ans_3724': '14747', 'ans_3736': '14793', 'ans_3744': '14828', 'ans_3747': '14840', 'ans_3765': '14912', 'ans_3774': '14946', 'ans_3779': '14965', 'ans_3804': '15068', 'ans_3834': '15185', 'ans_3842': '15217', 'ans_3844': '15228', 'ans_3863': '15301', 'ans_3868': '15324', 'ans_3869': '15325', 'ans_3882': '15380', 'ans_3903': '15462', 'ans_3904': '15468', 'ans_3921': '15533', 'ans_3938': '15601', 'ans_3946': '15634', 'ans_4008': '15881', 'ans_4014': '15908', 'ans_4015': '15911', 'ans_4020': '15932', 'ans_4036': '15996', 'ans_4542': '18017', 'ans_4548': '18044', 'ans_4549': '18048', 'ans_3612': '14297', 'ans_3617': '14318', 'ans_3618': '14322', 'ans_3638': '14404', 'ans_3641': '14415', 'ans_3643': '14423', 'ans_3654': '14468', 'ans_3666': '14513', 'ans_3676': '14555', 'ans_3684': '14587', 'ans_3691': '14615', 'ans_3708': '14681', 'ans_3717': '14718', 'ans_3735': '14789', 'ans_3736': '14793', 'ans_3747': '14840', 'ans_3750': '14850', 'ans_3776': '14953', 'ans_3779': '14965', 'ans_3791': '15014', 'ans_3825': '15149', 'ans_3829': '15167', 'ans_3831': '15174', 'ans_3838': '15201', 'ans_3874': '15346', 'ans_3881': '15374', 'ans_3892': '15420', 'ans_3899': '15448', 'ans_3900': '15452', 'ans_3919': '15527', 'ans_3936': '15595', 'ans_3947': '15639', 'ans_4002': '15857', 'ans_4011': '15895', 'ans_4017': '15917', 'ans_4028': '15962', 'ans_4030': '15969', 'ans_4545': '18029', 'ans_4546': '18033', 'ans_4564': '18105', 'ans_3603': '14263', 'ans_3635': '14391', 'ans_3636': '14394', 'ans_3637': '14399', 'ans_3641': '14415', 'ans_3645': '14431', 'ans_3652': '14457', 'ans_3660': '14489', 'ans_3669': '14526', 'ans_3704': '14668', 'ans_3706': '14674', 'ans_3712': '14700', 'ans_3722': '14739', 'ans_3735': '14789', 'ans_3736': '14793', 'ans_3759': '14888', 'ans_3762': '14898', 'ans_3770': '14931', 'ans_3778': '14964', 'ans_3805': '15071', 'ans_3821': '15135', 'ans_3823': '15142', 'ans_3826': '15156', 'ans_3845': '15232', 'ans_3870': '15329', 'ans_3879': '15368', 'ans_3888': '15403', 'ans_3906': '15474', 'ans_3919': '15527', 'ans_3927': '15560', 'ans_3930': '15570', 'ans_3947': '15639', 'ans_4007': '15877', 'ans_4008': '15881', 'ans_4019': '15928', 'ans_4028': '15962', 'ans_4038': '16002', 'ans_4546': '18033', 'ans_4552': '18059', 'ans_4564': '18105', 'ans_3602': '14260', 'ans_3614': '14308', 'ans_3632': '14379', 'ans_3637': '14399', 'ans_3641': '14415', 'ans_3643': '14423', 'ans_3651': '14454', 'ans_3659': '14485', 'ans_3665': '14510', 'ans_3684': '14587', 'ans_3699': '14647', 'ans_3713': '14704', 'ans_3724': '14747', 'ans_3725': '14752', 'ans_3727': '14760', 'ans_3758': '14883', 'ans_3764': '14905', 'ans_3773': '14943', 'ans_3788': '15002', 'ans_3814': '15106', 'ans_3834': '15185', 'ans_3842': '15217', 'ans_3853': '15264', 'ans_3855': '15272', 'ans_3868': '15324', 'ans_3880': '15369', 'ans_3882': '15380', 'ans_3907': '15477', 'ans_3908': '15484', 'ans_3923': '15544', 'ans_3938': '15601', 'ans_3946': '15634', 'ans_3999': '15848', 'ans_4001': '15854', 'ans_4017': '15917', 'ans_4021': '15936', 'ans_4031': '15976', 'ans_4546': '18033', 'ans_4548': '18044', 'ans_4551': '18056', 'ans_3600': '14250', 'ans_3622': '14337', 'ans_3632': '14379', 'ans_3638': '14404', 'ans_3641': '14415', 'ans_3644': '14428', 'ans_3661': '14495', 'ans_3675': '14552', 'ans_3678': '14561', 'ans_3694': '14627', 'ans_3705': '14669', 'ans_3712': '14700', 'ans_3719': '14728', 'ans_3729': '14765', 'ans_3731': '14775', 'ans_3751': '14855', 'ans_3761': '14895', 'ans_3769': '14925', 'ans_3774': '14946', 'ans_3793': '15021', 'ans_3827': '15159', 'ans_3829': '15167', 'ans_3846': '15234', 'ans_3861': '15295', 'ans_3869': '15325', 'ans_3876': '15355', 'ans_3892': '15420', 'ans_3897': '15437', 'ans_3912': '15497', 'ans_3918': '15522', 'ans_3937': '15600', 'ans_3944': '15627', 'ans_3999': '15848', 'ans_4001': '15854', 'ans_4014': '15908', 'ans_4033': '15983', 'ans_4037': '15997', 'ans_4550': '18052', 'ans_4555': '18069', 'ans_4556': '18073', 'ans_3601': '14256', 'ans_3617': '14318', 'ans_3632': '14379', 'ans_3638': '14404', 'ans_3639': '14405', 'ans_3646': '14435', 'ans_3651': '14454', 'ans_3652': '14457', 'ans_3658': '14482', 'ans_3681': '14576', 'ans_3697': '14639', 'ans_3698': '14642', 'ans_3715': '14710', 'ans_3740': '14812', 'ans_3745': '14829', 'ans_3757': '14880', 'ans_3760': '14891', 'ans_3774': '14946', 'ans_3778': '14964', 'ans_3799': '15047', 'ans_3839': '15208', 'ans_3849': '15245', 'ans_3852': '15258', 'ans_3858': '15283', 'ans_3864': '15307', 'ans_3865': '15311', 'ans_3890': '15410', 'ans_3917': '15519', 'ans_3918': '15522', 'ans_3920': '15532', 'ans_3928': '15564', 'ans_3947': '15639', 'ans_3997': '15840', 'ans_3998': '15844', 'ans_4017': '15917', 'ans_4026': '15955', 'ans_4031': '15976', 'ans_4544': '18028', 'ans_4549': '18048', 'ans_4563': '18102', 'ans_3610': '14289', 'ans_3614': '14308', 'ans_3620': '14329', 'ans_3638': '14404', 'ans_3643': '14423', 'ans_3645': '14431', 'ans_3657': '14477', 'ans_3663': '14503', 'ans_3669': '14526', 'ans_3682': '14580', 'ans_3703': '14664', 'ans_3710': '14690', 'ans_3723': '14742', 'ans_3730': '14771', 'ans_3744': '14828', 'ans_3748': '14842', 'ans_3756': '14876', 'ans_3772': '14940', 'ans_3785': '14990', 'ans_3799': '15047', 'ans_3839': '15208', 'ans_3843': '15221', 'ans_3849': '15245', 'ans_3854': '15266', 'ans_3864': '15307', 'ans_3875': '15349', 'ans_3892': '15420', 'ans_3899': '15448', 'ans_3907': '15477', 'ans_3916': '15513', 'ans_3941': '15616', 'ans_3942': '15620', 'ans_4001': '15854', 'ans_4005': '15869', 'ans_4015': '15911', 'ans_4028': '15962', 'ans_4032': '15980', 'ans_4542': '18017', 'ans_4550': '18052', 'ans_4552': '18059', 'ans_3601': '14256', 'ans_3624': '14347', 'ans_3631': '14373', 'ans_3638': '14404', 'ans_3643': '14423', 'ans_3644': '14428', 'ans_3651': '14454', 'ans_3670': '14529', 'ans_3679': '14568', 'ans_3685': '14591', 'ans_3704': '14668', 'ans_3712': '14700', 'ans_3721': '14733', 'ans_3737': '14800', 'ans_3745': '14829', 'ans_3748': '14842', 'ans_3757': '14880', 'ans_3776': '14953', 'ans_3778': '14964', 'ans_3816': '15116', 'ans_3842': '15217', 'ans_3846': '15234', 'ans_3854': '15266', 'ans_3859': '15288', 'ans_3873': '15341', 'ans_3877': '15357', 'ans_3882': '15380', 'ans_3898': '15444', 'ans_3900': '15452', 'ans_3919': '15527', 'ans_3938': '15601', 'ans_3946': '15634', 'ans_4008': '15881', 'ans_4009': '15887', 'ans_4017': '15917', 'ans_4021': '15936', 'ans_4029': '15965', 'ans_4548': '18044', 'ans_4552': '18059', 'ans_4557': '18077', 'ans_3604': '14266', 'ans_3619': '14325', 'ans_3630': '14371', 'ans_3641': '14415', 'ans_3642': '14419', 'ans_3647': '14438', 'ans_3652': '14457', 'ans_3655': '14472', 'ans_3672': '14537', 'ans_3700': '14652', 'ans_3704': '14668', 'ans_3706': '14674', 'ans_3723': '14742', 'ans_3728': '14764', 'ans_3731': '14775', 'ans_3750': '14850', 'ans_3752': '14860', 'ans_3769': '14925', 'ans_3781': '14976', 'ans_3810': '15092', 'ans_3830': '15171', 'ans_3844': '15228', 'ans_3845': '15232', 'ans_3851': '15253', 'ans_3867': '15318', 'ans_3875': '15349', 'ans_3883': '15381', 'ans_3906': '15474', 'ans_3918': '15522', 'ans_3924': '15548', 'ans_3934': '15588', 'ans_3946': '15634', 'ans_4010': '15891', 'ans_4012': '15898', 'ans_4016': '15914', 'ans_4021': '15936', 'ans_4024': '15948', 'ans_4541': '18014', 'ans_4542': '18017', 'ans_4545': '18029', 'ans_3610': '14289', 'ans_3623': '14343', 'ans_3634': '14387', 'ans_3640': '14412', 'ans_3642': '14419', 'ans_3647': '14438', 'ans_3650': '14452', 'ans_3654': '14468', 'ans_3658': '14482', 'ans_3686': '14595', 'ans_3695': '14631', 'ans_3698': '14642', 'ans_3716': '14713', 'ans_3734': '14788', 'ans_3739': '14808', 'ans_3746': '14835', 'ans_3750': '14850', 'ans_3772': '14940', 'ans_3778': '14964', 'ans_3816': '15116', 'ans_3831': '15174', 'ans_3838': '15201', 'ans_3839': '15208', 'ans_3851': '15253', 'ans_3875': '15349', 'ans_3881': '15374', 'ans_3892': '15420', 'ans_3899': '15448', 'ans_3910': '15490', 'ans_3923': '15544', 'ans_3937': '15600', 'ans_3943': '15623', 'ans_4003': '15861', 'ans_4012': '15898', 'ans_4017': '15917', 'ans_4026': '15955', 'ans_4033': '15983', 'ans_4542': '18017', 'ans_4555': '18069', 'ans_4559': '18086', 'ans_3610': '14289', 'ans_3622': '14337', 'ans_3635': '14391', 'ans_3638': '14404', 'ans_3639': '14405', 'ans_3641': '14415', 'ans_3648': '14441', 'ans_3649': '14445', 'ans_3675': '14552', 'ans_3687': '14597', 'ans_3693': '14622', 'ans_3697': '14639', 'ans_3722': '14739', 'ans_3731': '14775', 'ans_3742': '14820', 'ans_3753': '14863', 'ans_3764': '14905', 'ans_3775': '14949', 'ans_3780': '14972', 'ans_3817': '15120', 'ans_3828': '15161', 'ans_3838': '15201', 'ans_3854': '15266', 'ans_3863': '15301', 'ans_3871': '15335', 'ans_3877': '15357', 'ans_3893': '15423', 'ans_3896': '15436', 'ans_3910': '15490', 'ans_3922': '15538', 'ans_3944': '15627', 'ans_3946': '15634', 'ans_4015': '15911', 'ans_4017': '15917', 'ans_4018': '15923', 'ans_4025': '15951', 'ans_4028': '15962', 'ans_4545': '18029', 'ans_4546': '18033', 'ans_4550': '18052', 'ans_3607': '14280', 'ans_3616': '14316', 'ans_3621': '14336', 'ans_3641': '14415', 'ans_3643': '14423', 'ans_3644': '14428', 'ans_3664': '14507', 'ans_3666': '14513', 'ans_3668': '14524', 'ans_3681': '14576', 'ans_3684': '14587', 'ans_3686': '14595', 'ans_3716': '14713', 'ans_3727': '14760', 'ans_3735': '14789', 'ans_3758': '14883', 'ans_3763': '14904', 'ans_3769': '14925', 'ans_3784': '14985', 'ans_3816': '15116', 'ans_3826': '15156', 'ans_3848': '15241', 'ans_3854': '15266', 'ans_3861': '15295', 'ans_3866': '15315', 'ans_3873': '15341', 'ans_3884': '15388', 'ans_3908': '15484', 'ans_3914': '15506', 'ans_3919': '15527', 'ans_3940': '15609', 'ans_3941': '15616', 'ans_4003': '15861', 'ans_4012': '15898', 'ans_4013': '15901', 'ans_4031': '15976', 'ans_4037': '15997', 'ans_4543': '18023', 'ans_4555': '18069', 'ans_4561': '18096', 'ans_3605': '14272', 'ans_3623': '14343', 'ans_3633': '14382', 'ans_3639': '14405', 'ans_3641': '14415', 'ans_3646': '14435', 'ans_3650': '14452', 'ans_3653': '14461', 'ans_3670': '14529', 'ans_3683': '14583', 'ans_3693': '14622', 'ans_3704': '14668', 'ans_3720': '14731', 'ans_3728': '14764', 'ans_3730': '14771', 'ans_3754': '14868', 'ans_3761': '14895', 'ans_3769': '14925', 'ans_3775': '14949', 'ans_3814': '15106', 'ans_3831': '15174', 'ans_3833': '15181', 'ans_3855': '15272', 'ans_3856': '15273', 'ans_3867': '15318', 'ans_3873': '15341', 'ans_3890': '15410', 'ans_3905': '15470', 'ans_3909': '15485', 'ans_3924': '15548', 'ans_3928': '15564', 'ans_3936': '15595', 'ans_3996': '15833', 'ans_4002': '15857', 'ans_4012': '15898', 'ans_4026': '15955', 'ans_4037': '15997', 'ans_4543': '18023', 'ans_4552': '18059', 'ans_4562': '18099', 'ans_3610': '14289', 'ans_3618': '14322', 'ans_3623': '14343', 'ans_3639': '14405', 'ans_3641': '14415', 'ans_3646': '14435', 'ans_3654': '14468', 'ans_3666': '14513', 'ans_3667': '14518', 'ans_3680': '14572', 'ans_3687': '14597', 'ans_3692': '14619', 'ans_3721': '14733', 'ans_3741': '14816', 'ans_3743': '14824', 'ans_3756': '14876', 'ans_3763': '14904', 'ans_3776': '14953', 'ans_3785': '14990', 'ans_3804': '15068', 'ans_3827': '15159', 'ans_3835': '15190', 'ans_3838': '15201', 'ans_3862': '15300', 'ans_3867': '15318', 'ans_3881': '15374', 'ans_3884': '15388', 'ans_3905': '15470', 'ans_3907': '15477', 'ans_3913': '15501', 'ans_3930': '15570', 'ans_3947': '15639', 'ans_3997': '15840', 'ans_4004': '15866', 'ans_4009': '15887', 'ans_4020': '15932', 'ans_4022': '15937', 'ans_4541': '18014', 'ans_4544': '18028', 'ans_4558': '18083', 'ans_3605': '14272', 'ans_3620': '14329', 'ans_3628': '14361', 'ans_3638': '14404', 'ans_3645': '14431', 'ans_3646': '14435', 'ans_3656': '14473', 'ans_3663': '14503', 'ans_3670': '14529', 'ans_3688': '14603', 'ans_3689': '14607', 'ans_3708': '14681', 'ans_3715': '14710', 'ans_3728': '14764', 'ans_3740': '14812', 'ans_3750': '14850', 'ans_3759': '14888', 'ans_3776': '14953', 'ans_3784': '14985', 'ans_3817': '15120', 'ans_3829': '15167', 'ans_3831': '15174', 'ans_3845': '15232', 'ans_3851': '15253', 'ans_3865': '15311', 'ans_3881': '15374', 'ans_3893': '15423', 'ans_3900': '15452', 'ans_3903': '15462', 'ans_3919': '15527', 'ans_3934': '15588', 'ans_3945': '15632', 'ans_4000': '15849', 'ans_4001': '15854', 'ans_4005': '15869', 'ans_4026': '15955', 'ans_4030': '15969', 'ans_4547': '18038', 'ans_4553': '18064', 'ans_4558': '18083', 'ans_3602': '14260', 'ans_3623': '14343', 'ans_3628': '14361', 'ans_3637': '14399', 'ans_3641': '14415', 'ans_3647': '14438', 'ans_3651': '14454', 'ans_3654': '14468', 'ans_3676': '14555', 'ans_3692': '14619', 'ans_3695': '14631', 'ans_3713': '14704', 'ans_3717': '14718', 'ans_3725': '14752', 'ans_3734': '14788', 'ans_3747': '14840', 'ans_3753': '14863', 'ans_3776': '14953', 'ans_3785': '14990', 'ans_3812': '15099', 'ans_3830': '15171', 'ans_3838': '15201', 'ans_3853': '15264', 'ans_3854': '15266', 'ans_3867': '15318', 'ans_3876': '15355', 'ans_3891': '15416', 'ans_3894': '15428', 'ans_3906': '15474', 'ans_3921': '15533', 'ans_3928': '15564', 'ans_3945': '15632', 'ans_4006': '15875', 'ans_4007': '15877', 'ans_4018': '15923', 'ans_4021': '15936', 'ans_4024': '15948', 'ans_4551': '18056', 'ans_4554': '18068', 'ans_4556': '18073', 'ans_3601': '14256', 'ans_3615': '14309', 'ans_3624': '14347', 'ans_3643': '14423', 'ans_3645': '14431', 'ans_3646': '14435', 'ans_3652': '14457', 'ans_3662': '14497', 'ans_3676': '14555', 'ans_3691': '14615', 'ans_3704': '14668', 'ans_3709': '14685', 'ans_3717': '14718', 'ans_3726': '14756', 'ans_3735': '14789', 'ans_3751': '14855', 'ans_3765': '14912', 'ans_3769': '14925', 'ans_3780': '14972', 'ans_3799': '15047', 'ans_3824': '15148', 'ans_3833': '15181', 'ans_3841': '15216', 'ans_3858': '15283', 'ans_3869': '15325', 'ans_3880': '15369', 'ans_3889': '15408', 'ans_3894': '15428', 'ans_3895': '15432', 'ans_3907': '15477', 'ans_3928': '15564', 'ans_3929': '15567', 'ans_3996': '15833', 'ans_3997': '15840', 'ans_4007': '15877', 'ans_4022': '15937', 'ans_4029': '15965', 'ans_4541': '18014', 'ans_4550': '18052', 'ans_4551': '18056'}

#total_answers = {'ans_5104': '20265', 'ans_5105': '20272', 'ans_5106': '20274', 'ans_5108': '20283', 'ans_5109': '20287', 'ans_5110': '20290', 'ans_5111': '20296', 'ans_5112': '20300', 'ans_5115': '20311', 'ans_5116': '20314', 'ans_5117': '20318', 'ans_5118': '20321', 'ans_5119': '20325', 'ans_5120': '20331', 'ans_5121': '20334', 'ans_5124': '20347', 'ans_5126': '20353', 'ans_5128': '20361', 'ans_5130': '20372', 'ans_5131': '20373', 'ans_5132': '20380', 'ans_5134': '20385', 'ans_5135': '20391', 'ans_5137': '20400', 'ans_5138': '20402', 'ans_5104': '20265', 'ans_5105': '20272', 'ans_5106': '20274', 'ans_5108': '20283', 'ans_5110': '20290', 'ans_5111': '20296', 'ans_5112': '20300', 'ans_5114': '20305', 'ans_5116': '20314', 'ans_5117': '20318', 'ans_5118': '20321', 'ans_5119': '20325', 'ans_5120': '20331', 'ans_5122': '20340', 'ans_5123': '20341', 'ans_5124': '20347', 'ans_5125': '20351', 'ans_5126': '20353', 'ans_5128': '20361', 'ans_5130': '20372', 'ans_5131': '20373', 'ans_5135': '20391', 'ans_5136': '20393', 'ans_5137': '20400', 'ans_5138': '20402', 'ans_5103': '20263', 'ans_5104': '20265', 'ans_5106': '20274', 'ans_5107': '20280', 'ans_5109': '20287', 'ans_5110': '20290', 'ans_5111': '20296', 'ans_5112': '20300', 'ans_5113': '20303', 'ans_5114': '20305', 'ans_5115': '20311', 'ans_5117': '20318', 'ans_5118': '20321', 'ans_5119': '20325', 'ans_5120': '20331', 'ans_5121': '20334', 'ans_5124': '20347', 'ans_5129': '20366', 'ans_5130': '20372', 'ans_5132': '20380', 'ans_5133': '20382', 'ans_5134': '20385', 'ans_5135': '20391', 'ans_5137': '20400', 'ans_5138': '20402', 'ans_5103': '20263', 'ans_5104': '20265', 'ans_5105': '20272', 'ans_5106': '20274', 'ans_5107': '20280', 'ans_5110': '20290', 'ans_5111': '20296', 'ans_5113': '20303', 'ans_5114': '20305', 'ans_5115': '20311', 'ans_5116': '20314', 'ans_5117': '20318', 'ans_5118': '20321', 'ans_5121': '20334', 'ans_5122': '20340', 'ans_5123': '20341', 'ans_5124': '20347', 'ans_5128': '20361', 'ans_5129': '20366', 'ans_5130': '20372', 'ans_5134': '20385', 'ans_5135': '20391', 'ans_5136': '20393', 'ans_5137': '20400', 'ans_5138': '20402', 'ans_5103': '20263', 'ans_5104': '20265', 'ans_5106': '20274', 'ans_5108': '20283', 'ans_5109': '20287', 'ans_5110': '20290', 'ans_5111': '20296', 'ans_5112': '20300', 'ans_5113': '20303', 'ans_5114': '20305', 'ans_5117': '20318', 'ans_5118': '20321', 'ans_5119': '20325', 'ans_5120': '20331', 'ans_5121': '20334', 'ans_5123': '20341', 'ans_5125': '20351', 'ans_5126': '20353', 'ans_5128': '20361', 'ans_5129': '20366', 'ans_5132': '20380', 'ans_5133': '20382', 'ans_5135': '20391', 'ans_5136': '20393', 'ans_5138': '20402', 'ans_5103': '20263', 'ans_5104': '20265', 'ans_5106': '20274', 'ans_5107': '20280', 'ans_5108': '20283', 'ans_5110': '20290', 'ans_5112': '20300', 'ans_5113': '20303', 'ans_5114': '20305', 'ans_5115': '20311', 'ans_5116': '20314', 'ans_5118': '20321', 'ans_5119': '20325', 'ans_5120': '20331', 'ans_5121': '20334', 'ans_5123': '20341', 'ans_5125': '20351', 'ans_5128': '20361', 'ans_5130': '20372', 'ans_5132': '20380', 'ans_5134': '20385', 'ans_5135': '20391', 'ans_5136': '20393', 'ans_5137': '20400', 'ans_5138': '20402', 'ans_5103': '20263', 'ans_5105': '20272', 'ans_5108': '20283', 'ans_5109': '20287', 'ans_5111': '20296', 'ans_5112': '20300', 'ans_5113': '20303', 'ans_5115': '20311', 'ans_5116': '20314', 'ans_5117': '20318', 'ans_5118': '20321', 'ans_5119': '20325', 'ans_5120': '20331', 'ans_5121': '20334', 'ans_5123': '20341', 'ans_5124': '20347', 'ans_5126': '20353', 'ans_5130': '20372', 'ans_5131': '20373', 'ans_5133': '20382', 'ans_5134': '20385', 'ans_5135': '20391', 'ans_5136': '20393', 'ans_5137': '20400', 'ans_5138': '20402', 'ans_5103': '20263', 'ans_5104': '20265', 'ans_5105': '20272', 'ans_5106': '20274', 'ans_5108': '20283', 'ans_5109': '20287', 'ans_5111': '20296', 'ans_5115': '20311', 'ans_5116': '20314', 'ans_5117': '20318', 'ans_5118': '20321', 'ans_5119': '20325', 'ans_5120': '20331', 'ans_5121': '20334', 'ans_5122': '20340', 'ans_5126': '20353', 'ans_5128': '20361', 'ans_5129': '20366', 'ans_5130': '20372', 'ans_5131': '20373', 'ans_5132': '20380', 'ans_5133': '20382', 'ans_5134': '20385', 'ans_5135': '20391', 'ans_5137': '20400', 'ans_5104': '20265', 'ans_5105': '20272', 'ans_5106': '20274', 'ans_5108': '20283', 'ans_5109': '20287', 'ans_5111': '20296', 'ans_5112': '20300', 'ans_5114': '20305', 'ans_5116': '20314', 'ans_5117': '20318', 'ans_5118': '20321', 'ans_5119': '20325', 'ans_5121': '20334', 'ans_5122': '20340', 'ans_5123': '20341', 'ans_5124': '20347', 'ans_5126': '20353', 'ans_5128': '20361', 'ans_5130': '20372', 'ans_5131': '20373', 'ans_5132': '20380', 'ans_5133': '20382', 'ans_5134': '20385', 'ans_5137': '20400', 'ans_5138': '20402', 'ans_5103': '20263', 'ans_5104': '20265', 'ans_5105': '20272', 'ans_5107': '20280', 'ans_5109': '20287', 'ans_5110': '20290', 'ans_5111': '20296', 'ans_5112': '20300', 'ans_5113': '20303', 'ans_5114': '20305', 'ans_5115': '20311', 'ans_5116': '20314', 'ans_5117': '20318', 'ans_5118': '20321', 'ans_5119': '20325', 'ans_5120': '20331', 'ans_5122': '20340', 'ans_5124': '20347', 'ans_5126': '20353', 'ans_5128': '20361', 'ans_5131': '20373', 'ans_5134': '20385', 'ans_5136': '20393', 'ans_5137': '20400', 'ans_5138': '20402'}


link = "https://www.cathaylife.com.vn/elearning/xemmuc?idclass=451&lang=vn"
test_name = 'Thi Thử'

'''
# get answers for difficult test
for i in range(0, 10):
    driver.get(link)
    driver.find_element_by_link_text(test_name).click()
    answers = get_correct_answers(driver)
    print(i)

'''
driver.get(link)
driver.find_element_by_link_text(test_name).click()
print(total_answers)
give_answers(driver, total_answers)









'''

driver.get("https://www.cathaylife.com.vn/elearning/xemmuc?idclass=488&lang=vn")
driver.find_element_by_link_text(u"Qtest Số 1").click()
answers = get_correct_answers(driver)

give_answers(driver, answers)



questions = driver.find_elements_by_class_name("row")

for question in questions:
    if "Question" in question.text:
        question.find_element("class name", "trn ans").click()




driver.get("https://www.cathaylife.com.vn/elearning/xemmuc?idclass=488&lang=vn")
driver.find_element_by_link_text(u"Qtest Số 1").click()


questions = driver.find_elements_by_class_name("row")

for question in questions:
    if "Question" in question.text:
        question.find_element("class name", "trn ans").click()

answers = {
    'ans_3599':'14248',
    'ans_3600':'14250',
    'ans_3601':'14256',
    'ans_3602':'14260',
    'ans_3603':'14263',
    'ans_3604':'14266',
    'ans_3605':'14272',
    'ans_3606':'14274',
    'ans_3607':'14280',
    'ans_3608':'14283',
    'ans_3609':'14285',
    'ans_3610':'14289',
    'ans_3611':'14296',
    'ans_3612':'14297',
    'ans_3613':'14304'
    }



#thi thủ
{'ans_3603': '14263', 'ans_3618': '14322', 'ans_3629': '14367', 'ans_3638': '14404', 'ans_3642': '14419', 'ans_3647': '14438', 'ans_3649': '14445', 'ans_3666': '14513', 'ans_3678': '14561', 'ans_3684': '14587', 'ans_3690': '14609', 'ans_3698': '14642', 'ans_3722': '14739', 'ans_3730': '14771', 'ans_3742': '14820', 'ans_3749': '14847', 'ans_3754': '14868', 'ans_3768': '14924', 'ans_3787': '14999', 'ans_3799': '15047', 'ans_3821': '15135', 'ans_3840': '15211', 'ans_3841': '15216', 'ans_3857': '15278', 'ans_3873': '15341', 'ans_3875': '15349', 'ans_3884': '15388', 'ans_3906': '15474', 'ans_3916': '15513', 'ans_3926': '15555', 'ans_3940': '15609', 'ans_3943': '15623', 'ans_4008': '15881', 'ans_4012': '15898', 'ans_4019': '15928', 'ans_4027': '15960', 'ans_4036': '15996', 'ans_4550': '18052', 'ans_4552': '18059', 'ans_4553': '18064', 'ans_3608': '14283', 'ans_3625': '14350', 'ans_3634': '14387', 'ans_3638': '14404', 'ans_3640': '14412', 'ans_3641': '14415', 'ans_3649': '14445', 'ans_3653': '14461', 'ans_3666': '14513', 'ans_3681': '14576', 'ans_3687': '14597', 'ans_3706': '14674', 'ans_3714': '14707', 'ans_3731': '14775', 'ans_3742': '14820', 'ans_3752': '14860', 'ans_3758': '14883', 'ans_3769': '14925', 'ans_3771': '14933', 'ans_3791': '15014', 'ans_3831': '15174', 'ans_3833': '15181', 'ans_3841': '15216', 'ans_3846': '15234', 'ans_3864': '15307', 'ans_3880': '15369', 'ans_3888': '15403', 'ans_3895': '15432', 'ans_3899': '15448', 'ans_3924': '15548', 'ans_3939': '15606', 'ans_3946': '15634', 'ans_3996': '15833', 'ans_4003': '15861', 'ans_4017': '15917', 'ans_4027': '15960', 'ans_4031': '15976', 'ans_4546': '18033', 'ans_4553': '18064', 'ans_4564': '18105'}
'''